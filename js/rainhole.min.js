$(function(){var t=600,a=600,r=10,n=[],o={},l={},e=d3.select("body").append("svg")
e.attr("width",t),e.attr("height",a)
var f=function(r){for(var f=0;r>f;f++){var i=Math.floor(Math.random()*t+1)
o[i]=o[i]||{}
var c=Math.floor(Math.random()*a+1),h=e.append("circle").attr("cx",i).attr("cy",c).attr("r",10).attr("fill","black").attr("id","hole"+f).attr("filled",!1)
l[h.attr("id")]=h,o[i][c]=h,n.push(h)}},i=function(t){var n=parseInt(t.attr("cx")),l=n-2*r,e=n+2*r,f=a+r,i=null
for(var c in o)if(c>l&&e>c){var h=o[c]
for(var d in h)"black"==h[d].attr("fill")&&f>d&&(f=d,i=h[d])}return i},c=function(t){var r=parseInt(t.attr("cy")),n=Math.floor(3e3*Math.random()+1),e=parseInt(t.attr("cx")),f=(o[e]||{},i(t)),c=a
for(null!=f&&(c=parseInt(f.attr("cy")));r!=c;)t.transition().attr("cy",r+1).duration(n).each("end",function(){null!=f&&(f.attr("fill",t.attr("fill")),t.remove(),delete l[f.attr("id")])}),r+=1},h=function(a){for(var r=0;a>r;r++){var n=Math.floor(Math.random()*t+1),o=Math.floor(255*Math.random()+1),l=Math.floor(255*Math.random()+1),f=Math.floor(255*Math.random()+1),i=e.append("circle").attr("cx",n).attr("cy",-10).attr("r",10).attr("fill",d3.rgb(o,l,f))
c(i)}},d=function(){f(30),setInterval(function(){if(0!=Object.keys(l).length){var t=Math.floor(25*Math.random()+1)
h(t)}},1e3)}
d()})
